<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Taxi Trip Monthly Trending  of 10 years</title>
    <link rel="stylesheet" href="/www/css/style.css" type="text/css">
    <script src="../www/libs/amcharts/amcharts.js" type="text/javascript"></script>
    <script src="../www/libs/amcharts/serial.js" type="text/javascript"></script>
    

    <!-- --------------------------------------------------------------------------------------------------- -->
<script>
        var chart = new AmCharts.AmSerialChart();

        var chartData = [
           {
            "month": 1,
            "year_1": 0.97,
            "year_2": 1.06,
            "year_3": 0.92,
            "year_4": 1.01,
            "year_5": 1.02,
            "year_6": 0.97,
            "year_7": 0.89,
            "year_8": 0.9,
            "year_9": 0.92,
            "year_10": 0.95,   
        },
        {
            "month": 2,
            "year_1": 0.94,
            "year_2": 0.8,
            "year_3": 0.95,
            "year_4": 1.01,
            "year_5": 0.96,
            "year_6": 0.94,
            "year_7": 0.89,
            "year_8": 0.95,
            "year_9": 0.89,
            "year_10": 0.92,   
        },
        {
            "month": 3,
            "year_1": 1.01,
            "year_2": 0.92,
            "year_3": 1.07,
            "year_4": 1.08,
            "year_5": 1.09,
            "year_6": 1.11,
            "year_7": 0.96,
            "year_8": 1.0,
            "year_9": 1.03,
            "year_10": 1.04,   
        },
        {
            "month": 4,
            "year_1": 1.0,
            "year_2": 1.08,
            "year_3": 0.99,
            "year_4": 1.04,
            "year_5": 1.04,
            "year_6": 1.06,
            "year_7": 0.97,
            "year_8": 1.01,
            "year_9": 0.98,
            "year_10": 1.0,   
        },
        {
            "month": 5,
            "year_1": 1.04,
            "year_2": 1.1,
            "year_3": 1.06,
            "year_4": 1.04,
            "year_5": 1.01,
            "year_6": 1.07,
            "year_7": 1.01,
            "year_8": 1.03,
            "year_9": 1.0,
            "year_10": 1.02,   
        },
        {
            "month": 6,
            "year_1": 1.0,
            "year_2": 1.05,
            "year_3": 1.03,
            "year_4": 1.01,
            "year_5": 0.99,
            "year_6": 1.0,
            "year_7": 0.95,
            "year_8": 1.0,
            "year_9": 0.98,
            "year_10": 0.99,   
        },
        {
            "month": 7,
            "year_1": 0.96,
            "year_2": 1.04,
            "year_3": 1.01,
            "year_4": 0.96,
            "year_5": 0.96,
            "year_6": 0.95,
            "year_7": 0.92,
            "year_8": 0.98,
            "year_9": 0.95,
            "year_10": 0.97,   
        },
        {
            "month": 8,
            "year_1": 0.97,
            "year_2": 0.89,
            "year_3": 0.9,
            "year_4": 0.96,
            "year_5": 0.87,
            "year_6": 0.92,
            "year_7": 0.94,
            "year_8": 0.97,
            "year_9": 0.95,
            "year_10": 0.99,   
        },
        {
            "month": 9,
            "year_1": 0.99,
            "year_2": 1.1,
            "year_3": 0.99,
            "year_4": 0.98,
            "year_5": 0.98,
            "year_6": 0.98,
            "year_7": 1.02,
            "year_8": 0.99,
            "year_9": 1.0,
            "year_10": 0.99,   
        },
        {
            "month": 10,
            "year_1": 1.1,
            "year_2": 1.01,
            "year_3": 1.07,
            "year_4": 0.98,
            "year_5": 1.05,
            "year_6": 1.05,
            "year_7": 1.19,
            "year_8": 1.07,
            "year_9": 1.08,
            "year_10": 1.06,   
        },
        {
            "month": 11,
            "year_1": 1.0,
            "year_2": 0.99,
            "year_3": 0.99,
            "year_4": 0.93,
            "year_5": 1.02,
            "year_6": 0.98,
            "year_7": 1.12,
            "year_8": 1.02,
            "year_9": 1.07,
            "year_10": 1.02,   
        },
        {
            "month": 12,
            "year_1": 1.02,
            "year_2": 0.98,
            "year_3": 1.02,
            "year_4": 0.99,
            "year_5": 1.01,
            "year_6": 0.97,
            "year_7": 1.15,
            "year_8": 1.1,
            "year_9": 1.15,
            "year_10": 1.05,   
        }
        ];

           AmCharts.ready(function () {
               // generate some random data first
               // generateChartData();

               // SERIAL CHART
               chart.dataProvider  = chartData;
               chart.categoryField = "month";
               chart.dataDateFormat = "MM";

               // listen for "dataUpdated" event (fired when chart is inited) and call zoomChart method when it happens
               chart.addListener("dataUpdated", zoomChart);

               chart.synchronizeGrid = true; // this makes all axes grid to be at the same interval
 

                var categoryAxis = chart.categoryAxis;
            categoryAxis.parseDates = true; // as our data is date-based, we set parseDates to true
            categoryAxis.minPeriod = "MM"; // our data is daily, so we set minPeriod to DD
            categoryAxis.minorGridEnabled = true;
            categoryAxis.axisColor = "#DADADA";
            categoryAxis.twoLineMode = true;
            categoryAxis.dateFormats =[ //you must provide the entire array
                {"period":"fff","format":"JJ:NN:SS"},
                {"period":"ss","format":"JJ:NN:SS"},
                {"period":"mm","format":"JJ:NN"},
                {"period":"hh","format":"JJ:NN"},
                {"period":"DD","format":"MMM DD"},
                {"period":"WW","format":"MMM DD"},
                {"period":"MM","format":"MMM"}, //modify at least the month period to the desired format
                {"period":"YYYY","format":"YYYY"}
            ];

               // first value axis (on the left)
               var valueAxis1 = new AmCharts.ValueAxis();
               valueAxis1.title = "Month Quantity/Monthly Mean Quantity";
               valueAxis1.axisColor = "#FF6600";
               valueAxis1.axisThickness = 2;
               chart.addValueAxis(valueAxis1);


               // GRAPHS
               // first graph
               var graph1 = new AmCharts.AmGraph();
               graph1.valueAxis = valueAxis1; // we have to indicate which value axis should be used
               graph1.title = "2009";
               graph1.valueField = "year_1";
               graph1.bullet = "round";
               graph1.hideBulletsCount = 30;
               graph1.bulletBorderThickness = 1;
               chart.addGraph(graph1);

               // second graph
               var graph2 = new AmCharts.AmGraph();
               graph2.valueAxis = valueAxis1; // we have to indicate which value axis should be used
               graph2.title = "2010";
               graph2.valueField = "year_2";
               graph2.bullet = "square";
               graph2.hideBulletsCount = 30;
               graph2.bulletBorderThickness = 1;
               chart.addGraph(graph2);

               // third graph
               var graph3 = new AmCharts.AmGraph();
               graph3.valueAxis = valueAxis1; // we have to indicate which value axis should be used
               graph3.title = "2011";
               graph3.valueField = "year_3";
               graph3.bullet = "bubble";
               graph3.hideBulletsCount = 30;
               graph3.bulletBorderThickness = 1;
               chart.addGraph(graph3);

               // fourth graph
               var graph4 = new AmCharts.AmGraph();
               graph4.valueAxis = valueAxis1; // we have to indicate which value axis should be used
               graph4.title = "2012";
               graph4.valueField = "year_4";
               graph4.bullet = "diamond";
               graph4.hideBulletsCount = 30;
               graph4.bulletBorderThickness = 1;
               chart.addGraph(graph4);

               // 5th graph
               var graph5 = new AmCharts.AmGraph();
               graph5.valueAxis = valueAxis1; // we have to indicate which value axis should be used
               graph5.title = "2013";
               graph5.valueField = "year_5";
               graph5.bullet = "round";
               graph5.hideBulletsCount = 30;
               graph5.bulletBorderThickness = 1;
               chart.addGraph(graph5);

               // 6th graph
               var graph6 = new AmCharts.AmGraph();
               graph6.valueAxis = valueAxis1; // we have to indicate which value axis should be used
               graph6.title = "2014";
               graph6.valueField = "year_6";
               graph6.bullet = "square";
               graph6.hideBulletsCount = 30;
               graph6.bulletBorderThickness = 1;
               chart.addGraph(graph6);

               // 7th graph
               var graph7 = new AmCharts.AmGraph();
               graph7.valueAxis = valueAxis1; // we have to indicate which value axis should be used
               graph7.title = "2015";
               graph7.valueField = "year_7";
               graph7.bullet = "bubble";
               graph7.hideBulletsCount = 30;
               graph7.bulletBorderThickness = 1;
               chart.addGraph(graph7);

               // 8th graph
               var graph8 = new AmCharts.AmGraph();
               graph8.valueAxis = valueAxis1; // we have to indicate which value axis should be used
               graph8.title = "2016";
               graph8.valueField = "year_8";
               graph8.bullet = "diamond";
               graph8.hideBulletsCount = 30;
               graph8.bulletBorderThickness = 1;
               chart.addGraph(graph8);

               // 9th graph
               var graph9 = new AmCharts.AmGraph();
               graph9.valueAxis = valueAxis1; // we have to indicate which value axis should be used
               graph9.title = "2017";
               graph9.valueField = "year_9";
               graph9.bullet = "round";
               graph9.hideBulletsCount = 30;
               graph9.bulletBorderThickness = 1;
               chart.addGraph(graph9);

               // 10th graph
               var graph10 = new AmCharts.AmGraph();
               graph10.valueAxis = valueAxis1; // we have to indicate which value axis should be used
               graph10.title = "2018";
               graph10.valueField = "year_10";
               graph10.bullet = "square";
               graph10.hideBulletsCount = 30;
               graph10.bulletBorderThickness = 1;
               chart.addGraph(graph10);


               // CURSOR
               var chartCursor = new AmCharts.ChartCursor();
               chartCursor.cursorAlpha = 0.1;
               chartCursor.fullWidth = true;
               chartCursor.valueLineBalloonEnabled = true;
               chartCursor.categoryBalloonDateFormat = "MMM";
               chart.addChartCursor(chartCursor);

               // // SCROLLBAR
               // var chartScrollbar = new AmCharts.ChartScrollbar();
               // chart.addChartScrollbar(chartScrollbar);

               // LEGEND
               var legend = new AmCharts.AmLegend();
               legend.marginLeft = 110;
               legend.useGraphSettings = true;
               chart.addLegend(legend);

               // WRITE
               chart.write("chartdiv");
           });

           // this method is called when chart is first inited as we listen for "dataUpdated" event
           function zoomChart() {
               // different zoom methods can be used - zoomToIndexes, zoomToDates, zoomToCategoryValues
               // zz-----> zoom from (min, max), 1.count data_sum, (min, count) 2.(0, a max random num)
               chart.zoomToIndexes(0, 10000);   

           }
         


        </script>


<!-- --------------------------------------------------------------------------------------------------- -->
</head>

<body>
<div id="chartdiv" style="width: 100%; height: 100%;"></div>
</body>
<script type="text/javascript">
	//delete extra innerHTML "1990" under Jan
	window.onload = function() {
		let span_1990 = document.getElementsByTagName("tspan")[1];
		span_1990.innerHTML = "";
		let parent = span_1990.parentNode
		parent.removeChild(span_1990)
};
</script>
</html>
